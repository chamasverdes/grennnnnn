<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Riscos de Queimadas</title>
  <link rel="stylesheet" href="css/geral.css" />
  <link rel="stylesheet" href="css/riscos.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap"
    rel="stylesheet"
  />
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body>
  <header class="topbar" role="banner">
    <div class="container">
      <div class="brand-left">
        <div class="logo-circle">
          <img src="assets/imagem/green flames.png" alt="Green Flames Logo">
        </div>
        <div>
          <div class="site-title">GREEN FLAMES</div>
          <div style="font-size:12px;color:#d6efe3;margin-top:3px">PARAÍSO DO TOCANTINS</div>
        </div>
      </div>





      <nav class="topnav" aria-label="Menu principal">
        <a href="index.html">INÍCIO</a>
        <a href="servicos.html">RISCOS DE QUEIMADAS</a>
        <a href="noticia.html">PREVENÇÃO</a>
        <a href="contato.html">AJUDA</a>
        <a href="denuncia.html">DENÚNCIA</a>
        <a href="entrar.html" class="btn-entrar"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-dasharray="28" stroke-dashoffset="28" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M4 21v-1c0 -3.31 2.69 -6 6 -6h4c3.31 0 6 2.69 6 6v1"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.4s" values="28;0"/></path><path d="M12 11c-2.21 0 -4 -1.79 -4 -4c0 -2.21 1.79 -4 4 -4c2.21 0 4 1.79 4 4c0 2.21 -1.79 4 -4 4Z"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.4s" dur="0.4s" values="28;0"/></path></g></svg>ENTRAR</a>
      </nav>
      <button type="button" id="mobileMenuToggle" aria-label="Menu mobile">
        <span class="icon-hamburger">☰</span>
        <span class="icon-close">✕</span>
      </button>
    </div>
  </header>


  <main>
    <h2>RISCOS DE QUEIMADAS</h2>
    <p class="subtitulo">
      Confira abaixo as regiões com maior probabilidade de queimadas no mês atual.
    </p>


    <div class="mapa-container">
      <div class="mapa-interativo" id="mapaRiscos"></div>
      <div class="legenda-riscos">
        <h3>Legenda de Riscos</h3>
        <div class="legenda-item">
          <span class="legenda-cor risco-alto"></span>
          <span>Alto Risco (70%+)</span>
        </div>
        <div class="legenda-item">
          <span class="legenda-cor risco-medio"></span>
          <span>Médio Risco (60-69%)</span>
        </div>
        <div class="legenda-item">
          <span class="legenda-cor risco-baixo"></span>
          <span>Baixo Risco (50-59%)</span>
        </div>
      </div>
    </div>
  </main>


  <footer class="footer">
    <div class="footer-content">
      <h3>5º Corpo de Bombeiros Militar — Tocantins</h3>
      <p>R. Bernardino Maciel, 149 - Interlagos, Paraíso do Tocantins - TO, 77600-000</p>
    </div>
  </footer>

  <script>
    // Inicialização do Mapa Interativo
    (function initMapaRiscos(){
      // Coordenadas de Paraíso do Tocantins (centro)
      const paraisoLat = -10.1750;
      const paraisoLng = -48.8828;
      
      // Locais de risco com coordenadas aproximadas
      const locaisRisco = [
        {
          nome: 'Serra do Estrondo',
          risco: 70,
          lat: -10.2400,
          lng: -48.9200,
          tipo: 'alto'
        },
        {
          nome: 'Estrada para Santaninha',
          risco: 60,
          lat: -10.1500,
          lng: -48.8500,
          tipo: 'medio'
        },
        {
          nome: 'Fazendas da Região',
          risco: 55,
          lat: -10.2000,
          lng: -48.9100,
          tipo: 'baixo'
        }
      ];
      
      // Criar mapa
      const mapa = L.map('mapaRiscos').setView([paraisoLat, paraisoLng], 12);
      
      // Adicionar camada do mapa (OpenStreetMap)
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '© OpenStreetMap contributors',
        maxZoom: 18
      }).addTo(mapa);
      
      // Função para obter cor baseada no risco
      function getCorRisco(risco) {
        if (risco >= 70) return '#dc2626'; // Vermelho - Alto risco
        if (risco >= 60) return '#f59e0b'; // Laranja - Médio risco
        return '#fbbf24'; // Amarelo - Baixo risco
      }
      
      // Função para obter ícone customizado
      function criarIconeRisco(risco) {
        const cor = getCorRisco(risco);
        return L.divIcon({
          className: 'marcador-risco',
          html: `
            <div style="
              background-color: ${cor};
              width: 40px;
              height: 40px;
              border-radius: 50%;
              border: 3px solid white;
              box-shadow: 0 2px 8px rgba(0,0,0,0.3);
              display: flex;
              align-items: center;
              justify-content: center;
              font-weight: bold;
              color: white;
              font-size: 14px;
            ">${risco}%</div>
          `,
          iconSize: [40, 40],
          iconAnchor: [20, 20]
        });
      }
      
      // Adicionar marcadores para cada local de risco
      locaisRisco.forEach(local => {
        const marcador = L.marker([local.lat, local.lng], {
          icon: criarIconeRisco(local.risco)
        }).addTo(mapa);
        
        marcador.bindPopup(`
          <div style="text-align: center; padding: 8px;">
            <h3 style="margin: 0 0 8px; color: #07221a; font-size: 16px; font-weight: 700;">${local.nome}</h3>
            <p style="margin: 4px 0; font-size: 14px;">
              <strong style="color: ${getCorRisco(local.risco)};">Risco: ${local.risco}%</strong>
            </p>
            <p style="margin: 4px 0; font-size: 12px; color: #6b7280;">
              Área com probabilidade alta de queimadas
            </p>
          </div>
        `);
      });
      
      // Adicionar marcador central em Paraíso do Tocantins
      L.marker([paraisoLat, paraisoLng], {
        icon: L.divIcon({
          className: 'marcador-centro',
          html: `
            <div style="
              background-color: #0f7a4a;
              width: 30px;
              height: 30px;
              border-radius: 50%;
              border: 3px solid white;
              box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            "></div>
          `,
          iconSize: [30, 30],
          iconAnchor: [15, 15]
        })
      }).addTo(mapa).bindPopup(`
        <div style="text-align: center; padding: 8px;">
          <h3 style="margin: 0 0 4px; color: #07221a; font-size: 16px; font-weight: 700;">Paraíso do Tocantins</h3>
          <p style="margin: 0; font-size: 12px; color: #6b7280;">Centro de Referência</p>
        </div>
      `);
      
    })();
    
    // Menu Mobile (Hambúrguer)
    (function initMobileMenu(){
      const toggle = document.getElementById('mobileMenuToggle');
      const nav = document.querySelector('.topnav');
      const overlay = document.createElement('div');
      overlay.className = 'mobile-overlay';
      document.body.appendChild(overlay);

      if(!toggle || !nav) return;

      function openMenu(){
        nav.classList.add('mobile-open');
        toggle.classList.add('active');
        overlay.classList.add('active');
        document.body.style.overflow = 'hidden';
      }

      function closeMenu(){
        nav.classList.remove('mobile-open');
        toggle.classList.remove('active');
        overlay.classList.remove('active');
        document.body.style.overflow = '';
      }

      toggle.addEventListener('click', function(e){
        e.stopPropagation();
        if(nav.classList.contains('mobile-open')){
          closeMenu();
        } else {
          openMenu();
        }
      });

      overlay.addEventListener('click', closeMenu);

      nav.addEventListener('click', function(e){
        if(e.target.tagName === 'A'){
          closeMenu();
        }
      });

      window.addEventListener('resize', function(){
        if(window.innerWidth > 880){
          closeMenu();
        }
      });
    })();
  </script>
</body>
</html>


