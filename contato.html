<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ajuda - Projeto</title>
  <link rel="stylesheet" href="css/geral.css">
</head>
<body>

  <!-- ====== Cabeçalho ====== -->
  <header class="topbar" role="banner">
    <div class="container">
      <div class="brand-left">
        <div class="logo-circle">
          <img src="assets/imagem/green flames.png" alt="Green Flames Logo">
        </div>
        <div>
          <div class="site-title">GREEN FLAMES</div>
          <div style="font-size:12px;color:#d6efe3;margin-top:3px">PARAÍSO DO TOCANTINS</div>
        </div>
      </div>
      <nav class="topnav" aria-label="Menu principal">
        <a href="index.html">INÍCIO</a>
        <a href="servicos.html">RISCOS DE QUEIMADAS</a>
        <a href="noticia.html">PREVENÇÃO</a>
        <a href="denuncia.html">DENÚNCIA</a>
        <a href="entrar.html" class="btn-entrar"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-dasharray="28" stroke-dashoffset="28" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M4 21v-1c0 -3.31 2.69 -6 6 -6h4c3.31 0 6 2.69 6 6v1"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.4s" values="28;0"/></path><path d="M12 11c-2.21 0 -4 -1.79 -4 -4c0 -2.21 1.79 -4 4 -4c2.21 0 4 1.79 4 4c0 2.21 -1.79 4 -4 4Z"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.4s" dur="0.4s" values="28;0"/></path></g></svg>ENTRAR</a>
      </nav>
      <button type="button" id="mobileMenuToggle" aria-label="Menu mobile">
        <span class="icon-hamburger">☰</span>
        <span class="icon-close">✕</span>
      </button>
    </div>
  </header>

  <!-- ====== Conteúdo Principal ====== -->
  <main class="main-content">
    <div class="title-section">
      <h1 class="help-title">COMO PODEMOS AJUDAR?</h1>
    </div>

    <div class="search-container">
      <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="11" cy="11" r="8"></circle>
        <path d="m21 21-4.35-4.35"></path>
      </svg>
      <input type="text" id="searchInput" class="search-input" placeholder="Descreva o problema ou digite sua dúvida..." autocomplete="off">
      <svg class="search-spinner" id="searchSpinner" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
        <circle cx="12" cy="12" r="10" stroke-opacity="0.25"></circle>
        <path d="M12 2 A10 10 0 0 1 22 12" stroke-linecap="round"></path>
      </svg>
    </div>

    <section class="suggestions" id="suggestionsList">
      <div class="suggestion-box" data-search="denúncia fazer registrar passo a passo anônima segura">
        <div class="suggestion-header">
          <strong>Como fazer uma denúncia?</strong>
          <span class="suggestion-toggle">+</span>
        </div>
        <div class="suggestion-content">
          <p>Saiba o passo a passo para registrar sua denúncia de forma segura e anônima. Acesse a página de denúncia, preencha o formulário com os dados solicitados e envie. Sua identidade será mantida em sigilo.</p>
        </div>
      </div>

      <div class="suggestion-box" data-search="acompanhar denúncia andamento caso atualizações status">
        <div class="suggestion-header">
          <strong>Posso acompanhar minha denúncia?</strong>
          <span class="suggestion-toggle">+</span>
        </div>
        <div class="suggestion-content">
          <p>Sim! Você pode acompanhar o andamento do seu caso através do número de protocolo fornecido após o registro. Acesse a área de acompanhamento e informe o protocolo para receber atualizações.</p>
        </div>
      </div>

      <div class="suggestion-box" data-search="problemas tipos relatar queimadas incêndio fogo">
        <div class="suggestion-header">
          <strong>Quais tipos de problemas posso relatar?</strong>
          <span class="suggestion-toggle">+</span>
        </div>
        <div class="suggestion-content">
          <p>Você pode denunciar focos de queimadas, incêndios florestais, queima de lixo, fogueiras em áreas proibidas, fumaça excessiva e qualquer situação de risco relacionada a fogo na região.</p>
        </div>
      </div>

      <div class="suggestion-box" data-search="emergência urgente bombeiros telefone 193 contato">
        <div class="suggestion-header">
          <strong>Como entrar em contato em caso de emergência?</strong>
          <span class="suggestion-toggle">+</span>
        </div>
        <div class="suggestion-content">
          <p>Em caso de emergência, ligue imediatamente para o Corpo de Bombeiros através do 193. Para situações não urgentes, utilize o formulário de contato ou a central de atendimento.</p>
        </div>
      </div>

      <div class="suggestion-box" data-search="protocolo número código denúncia">
        <div class="suggestion-header">
          <strong>Como obtenho o número de protocolo da minha denúncia?</strong>
          <span class="suggestion-toggle">+</span>
        </div>
        <div class="suggestion-content">
          <p>O número de protocolo é gerado automaticamente após o envio da sua denúncia e será exibido na tela de confirmação. Você também receberá por e-mail se informar um endereço válido.</p>
        </div>
      </div>

      <div class="suggestion-box" data-search="anonimato sigilo privacidade identidade confidencial">
        <div class="suggestion-header">
          <strong>Minha denúncia é anônima?</strong>
          <span class="suggestion-toggle">+</span>
        </div>
        <div class="suggestion-content">
          <p>Sim, você pode optar por fazer denúncias anônimas. Seus dados pessoais serão mantidos em sigilo e não serão compartilhados. Apenas informações essenciais para investigação serão utilizadas.</p>
        </div>
      </div>

      <div class="suggestion-box" data-search="prazo tempo resposta atendimento resolução">
        <div class="suggestion-header">
          <strong>Qual o prazo para resposta da minha denúncia?</strong>
          <span class="suggestion-toggle">+</span>
        </div>
        <div class="suggestion-content">
          <p>O prazo de atendimento varia conforme a gravidade da situação. Emergências são atendidas imediatamente. Denúncias normais podem levar de 24 a 48 horas para serem analisadas e encaminhadas.</p>
        </div>
      </div>

      <div class="suggestion-box" data-search="prevenção evitar queimadas cuidados dicas">
        <div class="suggestion-header">
          <strong>Como posso ajudar na prevenção de queimadas?</strong>
          <span class="suggestion-toggle">+</span>
        </div>
        <div class="suggestion-content">
          <p>Evite queimar lixo, não jogue bitucas de cigarro, mantenha limpos os terrenos, não faça fogueiras em locais proibidos e denuncie situações de risco. Pequenas ações fazem grande diferença na prevenção.</p>
        </div>
      </div>
    </section>

    <div id="noResults" class="no-results" style="display: none;">
      <div class="no-results-content">
        <svg class="no-results-icon" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <path d="m21 21-4.35-4.35"></path>
          <line x1="11" y1="8" x2="11" y2="12"></line>
          <line x1="11" y1="16" x2="11.01" y2="16"></line>
        </svg>
        <h3>Nenhum resultado encontrado</h3>
        <p>Tente usar palavras-chave diferentes ou envie sua pergunta que entraremos em contato.</p>
        
        <form id="contactForm" class="contact-form">
          <div class="form-group">
            <label for="userName">Nome *</label>
            <input type="text" id="userName" name="userName" required placeholder="Seu nome completo">
          </div>
          
          <div class="form-group">
            <label for="userEmail">E-mail *</label>
            <input type="email" id="userEmail" name="userEmail" required placeholder="seu@email.com">
          </div>
          
          <div class="form-group">
            <label for="userPhone">Telefone (Opcional)</label>
            <input type="tel" id="userPhone" name="userPhone" placeholder="(63) 99999-9999">
          </div>
          
          <div class="form-group">
            <label for="userQuestion">Sua Pergunta *</label>
            <textarea id="userQuestion" name="userQuestion" rows="4" required placeholder="Descreva sua dúvida ou problema..."></textarea>
          </div>
          
          <button type="submit" class="btn-submit">
            <span>Enviar Pergunta</span>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
              <path fill="currentColor" d="M17 12c-2.76 0-5 2.24-5 5s2.24 5 5 5s5-2.24 5-5s-2.24-5-5-5m1.65 7.35L16.5 17.2V14h1v2.79l1.85 1.85z"/>
              <path fill="currentColor" d="m11 12l-6-1.5V7.01l8.87 3.74c.94-.47 2-.75 3.13-.75c.1 0 .19.01.28.01L3 4v16l7-2.95V17c0-.8.14-1.56.39-2.28L5 16.99V13.5z"/>
            </svg>
          </button>
        </form>
        
        <div id="formSuccess" class="form-success" style="display: none;">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
            <polyline points="22 4 12 14.01 9 11.01"></polyline>
          </svg>
          <p>Pergunta enviada com sucesso! Entraremos em contato em breve.</p>
        </div>
      </div>
    </div>
  </main>

  <!-- ====== Rodapé ====== -->
  <footer class="footer">
    <p>© 2025 Projeto — Todos os direitos reservados.</p>
  </footer>

  <script>
    // Função de Busca
    (function initSearch(){
      const searchInput = document.getElementById('searchInput');
      const suggestionsList = document.getElementById('suggestionsList');
      const noResults = document.getElementById('noResults');
      const searchSpinner = document.getElementById('searchSpinner');
      const searchIcon = document.querySelector('.search-icon');
      let searchTimeout;

      function showSpinner() {
        if (searchSpinner && searchIcon) {
          searchSpinner.style.display = 'block';
          searchIcon.style.display = 'none';
        }
      }

      function hideSpinner() {
        if (searchSpinner && searchIcon) {
          searchSpinner.style.display = 'none';
          searchIcon.style.display = 'block';
        }
      }

      function performSearch(term) {
        if (!searchInput || !suggestionsList || !noResults) return;
        
        const searchTerm = term.toLowerCase().trim();
        const suggestionBoxes = suggestionsList.querySelectorAll('.suggestion-box');
        let hasResults = false;

        // Mostrar spinner enquanto busca
        if (searchTerm !== '') {
          showSpinner();
        } else {
          hideSpinner();
        }

        suggestionBoxes.forEach(box => {
          const searchData = box.getAttribute('data-search') ? box.getAttribute('data-search').toLowerCase() : '';
          const title = box.querySelector('strong') ? box.querySelector('strong').textContent.toLowerCase() : '';
          const description = box.querySelector('.suggestion-content p') ? box.querySelector('.suggestion-content p').textContent.toLowerCase() : '';

          if (searchTerm === '' || 
              searchData.includes(searchTerm) || 
              title.includes(searchTerm) || 
              description.includes(searchTerm)) {
            box.style.display = 'block';
            hasResults = true;
          } else {
            box.style.display = 'none';
          }
        });

        // Mostrar mensagem quando não há resultados
        if (searchTerm !== '' && !hasResults) {
          noResults.style.display = 'block';
          suggestionsList.style.display = 'none';
        } else {
          noResults.style.display = 'none';
          suggestionsList.style.display = 'flex';
        }

        // Ocultar spinner após um pequeno delay para dar feedback visual
        if (searchTerm !== '') {
          clearTimeout(searchTimeout);
          searchTimeout = setTimeout(function() {
            hideSpinner();
          }, 300);
        } else {
          hideSpinner();
        }
      }
      
      // Limpar busca e mostrar todas as sugestões
      function resetSearch() {
        if (searchInput) {
          searchInput.value = '';
          performSearch('');
        }
      }

      // Event listener para busca em tempo real
      if(searchInput) {
        searchInput.addEventListener('input', function(e) {
          performSearch(e.target.value);
        });

        // Limpar busca ao pressionar ESC
        searchInput.addEventListener('keydown', function(e) {
          if (e.key === 'Escape') {
            e.target.value = '';
            performSearch('');
            hideSpinner();
          }
        });
      }
    })();

    // Formulário de Contato
    (function initContactForm(){
      const contactForm = document.getElementById('contactForm');
      const formSuccess = document.getElementById('formSuccess');
      
      if(contactForm) {
        contactForm.addEventListener('submit', function(e) {
          e.preventDefault();
          
          const formData = {
            nome: document.getElementById('userName').value,
            email: document.getElementById('userEmail').value,
            telefone: document.getElementById('userPhone').value || '',
            pergunta: document.getElementById('userQuestion').value
          };
          
          // Simular envio (aqui você pode integrar com backend)
          console.log('Dados do formulário:', formData);
          
          // Aqui você faria a requisição para o servidor
          // fetch('/api/contato', {
          //   method: 'POST',
          //   headers: { 'Content-Type': 'application/json' },
          //   body: JSON.stringify(formData)
          // })
          // .then(response => response.json())
          // .then(data => {
          //   if(data.success) {
          //     showSuccess();
          //   }
          // })
          // .catch(error => {
          //   console.error('Erro ao enviar:', error);
          // });
          
          // Simular sucesso
          setTimeout(function() {
            contactForm.style.display = 'none';
            if(formSuccess) {
              formSuccess.style.display = 'flex';
            }
            
            // Limpar formulário
            contactForm.reset();
            
            // Após 5 segundos, resetar e mostrar o formulário novamente
            setTimeout(function() {
              if(formSuccess) {
                formSuccess.style.display = 'none';
              }
              contactForm.style.display = 'block';
            }, 5000);
          }, 500);
        });
      }
    })();

    // Menu Mobile (Hambúrguer)
    (function initMobileMenu(){
      const toggle = document.getElementById('mobileMenuToggle');
      const nav = document.querySelector('.topnav');
      const overlay = document.createElement('div');
      overlay.className = 'mobile-overlay';
      document.body.appendChild(overlay);

      if(!toggle || !nav) return;

      function openMenu(){
        nav.classList.add('mobile-open');
        toggle.classList.add('active');
        overlay.classList.add('active');
        document.body.style.overflow = 'hidden';
      }

      function closeMenu(){
        nav.classList.remove('mobile-open');
        toggle.classList.remove('active');
        overlay.classList.remove('active');
        document.body.style.overflow = '';
      }

      toggle.addEventListener('click', function(e){
        e.stopPropagation();
        if(nav.classList.contains('mobile-open')){
          closeMenu();
        } else {
          openMenu();
        }
      });

      overlay.addEventListener('click', function(e) {
        e.stopPropagation();
        closeMenu();
      });

      // Permitir cliques nos links do menu
      nav.addEventListener('click', function(e){
        e.stopPropagation();
        if(e.target.tagName === 'A' || e.target.closest('a')){
          const link = e.target.tagName === 'A' ? e.target : e.target.closest('a');
          // Permitir que o link funcione normalmente
          setTimeout(function() {
            closeMenu();
          }, 100);
        }
      });

      // Prevenir que o overlay bloqueie cliques no menu
      nav.addEventListener('touchstart', function(e) {
        e.stopPropagation();
      }, { passive: true });

      nav.addEventListener('touchend', function(e) {
        e.stopPropagation();
      }, { passive: true });

      window.addEventListener('resize', function(){
        if(window.innerWidth > 880){
          closeMenu();
        }
      });
    })();

    // Funcionalidade de Abrir/Fechar (Accordion)
    (function initAccordion(){
      const suggestionBoxes = document.querySelectorAll('.suggestion-box');
      
      suggestionBoxes.forEach(box => {
        const header = box.querySelector('.suggestion-header');
        
        if(header) {
          header.addEventListener('click', function(e) {
            e.stopPropagation();
            
            // Fechar outros boxes (opcional - remove se quiser permitir múltiplos abertos)
            const isActive = box.classList.contains('active');
            suggestionBoxes.forEach(otherBox => {
              if(otherBox !== box) {
                otherBox.classList.remove('active');
              }
            });
            
            // Alternar o box clicado
            if(isActive) {
              box.classList.remove('active');
            } else {
              box.classList.add('active');
            }
          });
        }
      });
    })();
  </script>
</body>
</html>
